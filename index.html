<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Charadas + Mem√≥ria ‚Äî MVP</title>
  <style>
    /* ===== Reset b√°sico ===== */
    * { box-sizing: border-box; margin:0; padding:0; }

    body {
      font-family: 'Inter', system-ui, Arial;
      background: #121212;
      color: #f1f1f1;
      padding:16px;
    }

    .container { max-width:800px; margin:0 auto; }

    header { text-align:center; margin-bottom:16px; }

    header h1 { font-size:2rem; margin-bottom:4px; }
    header .meta { font-size:14px; color:#aaa; margin-bottom:12px; }

    .topbar { display:flex; gap:8px; justify-content:center; margin-bottom:12px; }

    .card {
      background:#1e1e2f;
      padding:16px;
      border-radius:12px;
      box-shadow:0 6px 18px rgba(0,0,0,0.4);
      margin-bottom:16px;
      transition: transform 0.2s;
    }

    .card:hover { transform: translateY(-3px); }

    .question { font-weight:700; font-size:1.1rem; margin-bottom:12px; }

    .answer {
      display:none;
      margin-top:8px;
      padding:10px;
      background:#2c2c44;
      border-radius:8px;
      color:#0ff;
      font-weight:500;
    }

    button {
      background:#00d084;
      color:#000;
      border:0;
      padding:10px 16px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      transition: all 0.2s;
    }

    button:hover { background:#02b570; transform: scale(1.05); }

    .ad {
      display:none;
      margin:12px 0;
      padding:14px;
      border-radius:10px;
      text-align:center;
      border:2px dashed #888;
      background: linear-gradient(90deg,#1e1e2f,#2c2c44);
      color:#0ff;
      font-size:0.9rem;
    }

    a.small { font-size:13px; color:#0ff; text-decoration:none; }
    a.small:hover { text-decoration:underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üí° Charadas & Mem√≥ria</h1>
      <p class="meta">Clique em "Ver resposta". A cada 3 respostas aparece um an√∫ncio (placeholder).</p>
      <div class="topbar">
        <div id="countInfo">Respostas vistas nessa sess√£o: 0</div>
      </div>
    </header>

    <div id="list"></div>

    <div style="text-align:center; margin-top:18px;">
      <a class="small" href="#" onclick="location.reload();">Recarregar p√°gina</a>
    </div>
  </div>

  <script>
    // ===== Dados das charadas =====
    const puzzles = [
      { q: "O que tem quatro rodas e voa?", a: "Um caminh√£o de lixo em sonho (piada cl√°ssica)." },
      { q: "O que √© que quanto mais se tira, maior fica?", a: "Buraco." },
      { q: "O que √© que tem dentes mas n√£o morde?", a: "Pente." },
      { q: "O que corre ao redor da casa mas nunca se move?", a: "A cerca." },
      { q: "Qual palavra fica errada no dicion√°rio?", a: "Errada." },
      { q: "O que cai em p√© e corre deitado?", a: "Chuva." },
      { q: "Qual √© o livro que se l√™ pelas pontas?", a: "Livro de contos (contos = pontas)." },
      { q: "O que √© que tem cabe√ßa e n√£o tem corpo?", a: "Alfinete." },
      { q: "O que √© que tem um pesco√ßo mas n√£o tem cabe√ßa?", a: "Garrafa." },
      { q: "O que √© que passa na frente do sol e ainda deixa sombra?", a: "Nuvem." }
    ];

    // ===== contador de respostas =====
    const sessionKey = 'reveals_count_v2';
    function getSessionCount(){ return Number(sessionStorage.getItem(sessionKey) || 0); }
    function setSessionCount(v){ sessionStorage.setItem(sessionKey, String(v)); updateCountUI(); }
    function incrementSessionCount(){
      const v = getSessionCount() + 1;
      setSessionCount(v);
      return v;
    }
    function updateCountUI(){
      document.getElementById('countInfo').textContent = 'Respostas vistas nessa sess√£o: ' + getSessionCount();
    }

    // ===== renderizar charadas =====
    const list = document.getElementById('list');
    puzzles.forEach((p, idx) => {
      const card = document.createElement('div'); card.className = 'card';
      const q = document.createElement('div'); q.className = 'question'; q.textContent = (idx+1) + '. ' + p.q;
      const btn = document.createElement('button'); btn.textContent = 'Ver resposta';
      const ans = document.createElement('div'); ans.className = 'answer'; ans.textContent = p.a;

      btn.onclick = () => {
        if(ans.style.display === 'block'){ ans.style.display = 'none'; return; }
        ans.style.display = 'block';
        const newCount = incrementSessionCount();
        if(newCount % 3 === 0){ showAd(card); }
      };

      card.appendChild(q);
      card.appendChild(btn);
      card.appendChild(ans);
      list.appendChild(card);
    });
    updateCountUI();

    // ===== fun√ß√£o do placeholder do an√∫ncio =====
    function showAd(card){
      if(card.querySelector('.ad')) return;
      const ad = document.createElement('div'); ad.className = 'ad';
      ad.innerHTML = '<strong>An√∫ncio (placeholder)</strong><div style="margin-top:6px; font-size:0.9rem;">Aqui um an√∫ncio real apareceria.</div>';
      card.appendChild(ad);
      ad.style.display = 'block';
      setTimeout(()=> { ad.style.display = 'none'; }, 6000);
    }
  </script>
</body>
</html>
